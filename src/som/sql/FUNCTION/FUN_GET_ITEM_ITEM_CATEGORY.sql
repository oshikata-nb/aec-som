CREATE OR REPLACE FUNCTION      FUN_GET_ITEM_ITEM_CATEGORY(PARA VARCHAR2) RETURN VARCHAR IS
--■■■■■■■■■■■■■■■■■■■
--■　品目分類取得
--■　TABLE:ITEM
--■■■■■■■■■■■■■■■■■■■
	LNGRC	NUMBER := 0;
	STRCODE	VARCHAR2(255) := '';
BEGIN
 	SELECT COUNT(*) INTO LNGRC FROM ITEM
	WHERE
		ITEM_CD = PARA
	;
	IF LNGRC IS NULL OR LNGRC = 0 THEN
		RETURN 9;
	ELSE
		--親品目コード取得
		SELECT ITEM_CATEGORY INTO STRCODE FROM ITEM
		WHERE
			ITEM_CD = PARA
		;
		RETURN STRCODE;
	END IF;
END;
/
